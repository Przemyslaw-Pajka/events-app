(this["webpackJsonpevents-app"]=this["webpackJsonpevents-app"]||[]).push([[0],{33:function(e,t,a){},35:function(e,t,a){e.exports=a.p+"static/media/iconmonstr-plus.ce98de71.svg"},42:function(e,t,a){e.exports=a(97)},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(34),o=a.n(r),i=a(18),c=(a(56),{apiKey:"AIzaSyDbuBsVbn6XpYJt1r8VA1bXXPtSmspUJuI",authDomain:"event-apps-2cb4a.firebaseapp.com",databaseURL:"https://event-apps-2cb4a.firebaseio.com",projectId:"event-apps-2cb4a",storageBucket:"event-apps-2cb4a.appspot.com",messagingSenderId:"1098191449571",appId:"1:1098191449571:web:e6b0c0f7f8c23e9c0dc4d6"}),m={appInit:function(){if(!i.apps.length)return console.log("Inicjalizacja firebase app..."),i.initializeApp(c)},dbInit:function(){return console.log("Tworzenie Firestore..."),i.firestore()}},s=(a(57),a(58),a(59),function(){return l.a.createElement("header",null,l.a.createElement("h1",{className:"head-title"},"Events app"))}),d=a(3),u=(a(60),a(35)),v=a.n(u),p=function(e){return l.a.createElement("button",{className:"eventBuilderCard eventCard",id:"eventBuilderCard",onClick:function(){return e.eventModalHandler()}},l.a.createElement("img",{className:"plusIcon",src:v.a}),l.a.createElement("p",null,"Dodaj wydarzenie"))},g=a(11);function f(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1?arguments[1]:void 0,n=window.google,l=new n.maps.InfoWindow,r=new n.maps.Geocoder,o=new n.maps.Map(document.getElementById("map"),{center:{lat:-33.8688,lng:151.2195},zoom:13,mapTypeId:"roadmap"});function i(e,t,a){t.setPosition(a),t.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(o)}navigator.geolocation?navigator.geolocation.getCurrentPosition((function(n){e=t?{lat:n.coords.latitude,lng:n.coords.longitude}:{lat:parseFloat(a.lat),lng:parseFloat(a.lng)},document.getElementById("latFld").value=e.lat,document.getElementById("lngFld").value=e.lng,s.setPosition(e),l.setContent("Location found."),l.open(o),E(r,o,l,s,e),o.setCenter(e)}),(function(){i(!0,l,o.getCenter())})):i(!1,l,o.getCenter());var c=document.getElementById("pac-input"),m=new n.maps.places.SearchBox(c);o.controls[n.maps.ControlPosition.TOP_LEFT].push(c),o.addListener("bounds_changed",(function(){m.setBounds(o.getBounds())}));var s=new n.maps.Marker({map:o,draggable:!0,animation:n.maps.Animation.DROP,position:{lat:59.327,lng:18.067}});function d(e,t,a,n){s.position=e,s.map=o,E(t,o,a,s,n),o.setCenter(e)}function u(){window.setTimeout((function(){s.setAnimation(null)}),800),s.setAnimation(n.maps.Animation.BOUNCE)}n.maps.event.addListener(o,"click",(function(e){var t=new n.maps.Geocoder;document.getElementById("latFld").value=e.latLng.lat(),document.getElementById("lngFld").value=e.latLng.lng(),d(e.latLng,t,l,{lat:e.latLng.lat(),lng:e.latLng.lng()});var a=e.latLng;u(),s.setPosition(a)})),m.addListener("places_changed",(function(){var e=m.getPlaces();if(o.setCenter(e[0].geometry.location),document.getElementById("latFld").value=e[0].geometry.location.lat(),document.getElementById("lngFld").value=e[0].geometry.location.lng(),0!==e.length){var t=e[0].geometry.location;s.setPosition(t),E(r,o,l,s,{lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng()}),u()}}))}function E(e,t,a,n,l){document.getElementById("latlng").value.split(",",2);var r={lat:l.lat,lng:l.lng};e.geocode({location:r},(function(e,l){if("OK"===l)if(e[0]){t.setZoom(11);var r=e[0].address_components.filter((function(e){for(var t in e.types)return"locality"===e.types[t]}));o=r[0].long_name,document.getElementById("eventLocality").value=o,a.setContent(e[0].formatted_address),a.open(t,n)}else window.alert("No results found");else window.alert("Geocoder failed due to: "+l);var o}))}var y=a(36),b=a.n(y);function h(e,t){return new Promise((function(a){(new Headers).append("Authorization","Client-ID f6e45a5e8c28826");var n=new FormData;n.append("image",e);var l={method:"POST",baseURL:"https://api.imgur.com/3/image",headers:{Authorization:"Client-ID f6e45a5e8c28826"},body:n,redirect:"follow",onUploadProgress:function(e){t(!0)}},r=b.a.create({baseURL:"https://api.imgur.com/3/image"});r.defaults.headers.common.Authorization="Client-ID f6e45a5e8c28826",r.post("https://api.imgur.com/3/image",n,l).then((function(e){t(!1),a(e.data.data.link)})).catch((function(e){return console.log("error",e)}))}))}var D=a(7),w=a.n(D),z=(a(77),{startDate:{fullDate:null,day:null,month:null,year:null,dayOfWeek:null,monthName:null,monthShort:[]},endDate:{fullDate:null,day:null,month:null,year:null,dayOfWeek:null,monthName:null,monthShort:[]}}),N=["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"];function C(){w()(document).ready((function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();t<10&&(t="0"+t),a<10&&(a="0"+a),e=a+"/"+t+"/"+n;var l=t+"/"+a+"/"+n;w()('input[name="date"]').daterangepicker({minDate:l,autoUpdateInput:!1,locale:{format:"DD/MM/YYYY",separator:" - ",applyLabel:"Zatwierd\u017a",cancelLabel:"Anuluj",fromLabel:"Od",toLabel:"Do",customRangeLabel:"Custom",weekLabel:"W",daysOfWeek:["Nd","Pn","Wt","\u015ar","Cz","Pt","So"],monthNames:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],firstDay:1},startDate:this.todayDDMMYY,endDate:"05/04/2020"},(function(e,t,a){z.startDate.fullDate=e.format("DD/MM/YYYY"),z.startDate.day=e.format("DD"),z.startDate.month=e.format("MM"),z.startDate.year=e.format("YYYY"),z.startDate.date=e._d,z.endDate.fullDate=t.format("DD/MM/YYYY"),z.endDate.day=t.format("DD"),z.endDate.month=t.format("MM"),z.endDate.year=t.format("YYYY"),z.endDate.date=t._d,0===z.startDate.month[0]?z.startDate.monthName=N[z.startDate.month[1]-1]:z.startDate.monthName=N[z.startDate.month-1],0===z.endDate.month[0]?z.endDate.monthName=N[z.endDate.month[1]-1]:z.endDate.monthName=N[z.endDate.month-1];for(var n=0;n<3;n++)z.startDate.monthShort[n]=z.startDate.monthName[n].toUpperCase()})),w()((function(){w()('input[name="date"]').on("apply.daterangepicker",(function(e,t){w()(this).val(t.startDate.format("DD/MM/YYYY")+" - "+t.endDate.format("DD/MM/YYYY"))})),w()('input[name="date"]').on("cancel.daterangepicker",(function(e,t){w()(this).val("")}))}))}))}var O=a(108),I=(a(33),a(21)),j=a.n(I),L=a(37),B=Object(n.createContext)(),S=function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){(function(){var t=Object(L.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.firebaseDB.collection("events").get();case 2:return a=t.sent,t.abrupt("return",a.docs.map((function(e){return e.data()})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then((function(e){if(void 0===e[0].events)return!1;o(e[0].events)}))}),[]),l.a.createElement(B.Provider,{value:[r,o]},e.children)},k=a(38),M=a.n(k),_=function(e){var t,a=Object(n.useContext)(B),r=Object(d.a)(a,2),o=r[0],i=r[1],c=Object(n.useState)(!1),m=Object(d.a)(c,2),s=m[0],u=m[1];Object(n.useEffect)((function(){f(),C()}),[]);return l.a.createElement("div",{className:"addEventModal myOwnModal"},s?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"cloud"}),l.a.createElement("div",{className:"loadingBox"},l.a.createElement("div",{className:"loadingBoxText"},"Trwa wysy\u0142anie..."),l.a.createElement(O.a,null))):null,l.a.createElement("button",{className:"closeEventModal",id:"closeEventModal",onClick:function(){return e.eventModalHandler()}},"X"),l.a.createElement("div",{className:"addEventModalContent myOwnModalContent"},l.a.createElement("h3",null,"Dodaj nowe wydarzenie"),l.a.createElement("form",{onSubmit:function(a){a.preventDefault(),h(t,u).then((function(t){var a;a=t,i([].concat(Object(g.a)(o),[{eventUniqueKey:M.a.generate(),eventName:document.getElementById("eventName").value,eventDescription:document.getElementById("eventDescription").value,eventPromoter:document.getElementById("eventPromoter").value,eventLocality:document.getElementById("eventLocality").value,eventCoords:{lat:document.getElementById("latFld").value,lng:document.getElementById("lngFld").value},eventDate:JSON.parse(JSON.stringify(z)),eventImgLink:a,eventImageObj:JSON.parse(JSON.stringify(document.getElementById("eventImage").value)),eventCategory:document.getElementById("eventCategory").value}])),e.setIsChanged(!0),e.eventModalHandler()}))}},l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Nazwa wydarzenia:"),l.a.createElement("input",{id:"eventName",type:"text",placeholder:"*",maxLength:"64",required:!0})),l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Opis wydarzenia:"),l.a.createElement("textarea",{id:"eventDescription",type:"text",placeholder:"*",required:!0})),l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Nazwa organizatora:"),l.a.createElement("input",{id:"eventPromoter",type:"text",placeholder:"*",required:!0})),l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Data:"),l.a.createElement("input",{type:"text",name:"date",id:"date",className:"eventDate",placeholder:"Wybierz dat\u0119 rozpocz\u0119cia oraz zako\u0144czenia wydarzenia",required:!0})),l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Kategoria:"),l.a.createElement("select",{id:"eventCategory",required:!0,defaultValue:"Wybierz kategorie"},l.a.createElement("option",{value:"",hidden:!0,placeholder:"Wybierz kategorie"},"Wybierz kategorie"),l.a.createElement("option",{value:"Sport"},"Sport"),l.a.createElement("option",{value:"Muzyka"},"Muzyka"),l.a.createElement("option",{value:"Film"},"Film"),l.a.createElement("option",{value:"Wolontariat"},"Wolontariat"),l.a.createElement("option",{value:"Jedzenie"},"Jedzenie"),l.a.createElement("option",{value:"Impreza"},"Impreza"),l.a.createElement("option",{value:"Ogrodnictwo"},"Ogrodnictwo"),l.a.createElement("option",{value:"Zdrowie"},"Zdrowie"),l.a.createElement("option",{value:"Taniec"},"Taniec"),l.a.createElement("option",{value:"Inne"},"Inne"),l.a.createElement("option",{value:"Literatura"},"Literatura"),l.a.createElement("option",{value:"Komedia"},"Komedia"),l.a.createElement("option",{value:"Wydarzenia religijne"},"Wydarzenia religijne"),l.a.createElement("option",{value:"Welness"},"Welness"),l.a.createElement("option",{value:"Odpowiednie dla dzieci"},"Odpowiednie dla dzieci"),l.a.createElement("option",{value:"Jedzenie"},"Zakupy"))),l.a.createElement("div",{className:"form__row image-container"},l.a.createElement("label",null,"Wybierz zdj\u0119cie wydarzenia:"),l.a.createElement("picture",null,l.a.createElement("input",{id:"eventImage",type:"file",required:!0,onChange:function(e){var a=document.getElementById("imagePreview");t=e.target.files[0],function(e,t){var a=new FileReader;a.onload=function(e){t.src=e.target.result},a.readAsDataURL(e)}(e.target.files[0],a)}}),l.a.createElement("img",{id:"imagePreview",src:"no-image.png"}))),l.a.createElement("div",{className:"form__row image-container"}),l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Lokalizacja miejscowo\u015b\u0107:"),l.a.createElement("input",{id:"eventLocality",type:"text",placeholder:"*",disabled:!0})),l.a.createElement("input",{id:"pac-input",className:"controls",type:"text",placeholder:"Wyszukaj w Mapach Google"}),l.a.createElement("div",{className:"form__row map-container"},l.a.createElement("div",{id:"map"})),l.a.createElement("input",{type:"text",id:"latFld",className:"latFld"}),l.a.createElement("input",{type:"text",id:"lngFld",className:"lngFld"}),l.a.createElement("input",{id:"latlng",className:"latlng",type:"text"}),l.a.createElement("button",{className:"addEventBtn"},"Dodaj wydarzenie"))))},x=(a(93),function(e){return l.a.createElement("div",{className:"confirmDeleteModal"},l.a.createElement("p",null,"Czy napewno chcesz usun\u0105\u0107 wydarzenie?"),l.a.createElement("div",{className:"row"},l.a.createElement("button",{onClick:function(){e.setIsConfirmOpen(!1),e.deleteEvent(e.eventUniqueKey)}},"Tak"),l.a.createElement("button",{onClick:function(){return e.setIsConfirmOpen(!1)}},"Nie")))}),F=function(e){var t=Object(n.useContext)(B),a=Object(d.a)(t,2),r=a[0],o=a[1],i=function(t){var a=Object(g.a)(r).filter((function(e){return e.eventUniqueKey!=t}));e.setIsChanged(!0),o(a)};return Object(n.useEffect)((function(){document.addEventListener("click",(function(e){var t=document.getElementsByClassName("eventCard open")[0];if(e.target.closest(".eventCard.open"))return!0;null===e.target.closest(".eventCard.open")&&t&&document.getElementsByClassName("eventCard open")[0].classList.remove("open")}),!0)}),[]),l.a.createElement(l.a.Fragment,null,e.filtered.map((function(t,a){return l.a.createElement(P,{key:t.eventUniqueKey,indexInArray:a,deleteEvent:i,event:t,setFiltered:e.setFiltered,setIsChanged:e.setIsChanged})})))},P=(a(94),function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(!1),c=Object(d.a)(i,2),m=c[0],s=c[1],u=Object(n.useState)(!1),v=Object(d.a)(u,2),p=v[0],g=v[1],f=Object(n.useRef)();Object(n.useEffect)((function(){g(function(e){var t=new Date,a=new Date(t),n=t.getDate(),l=t.getMonth()+1,r=t.getFullYear();return n<10&&(n="0"+n),l<10&&(l="0"+l),t=l+"/"+n+"/"+r,a=new Date(t),((new Date(e).getTime()-a.getTime())/864e5).toFixed(0)}(e.event.eventDate.startDate.date))}));var E=function(){s(!m)};return l.a.createElement("article",{ref:f,className:"eventCard",onClick:function(e){f.current.classList.add("open"),e.stopPropagation()}},m?l.a.createElement(T,{detailsOpenHandler:E,event:e.event,indexInArray:e.indexInArray,setIsChanged:e.setIsChanged}):null,l.a.createElement("div",{className:"eventCardHover"},r?l.a.createElement(x,{setIsConfirmOpen:o,deleteEvent:e.deleteEvent,eventUniqueKey:e.event.eventUniqueKey}):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"showEventBtn",onClick:function(){return E()}},"Poznaj wi\u0119cej szczeg\xf3\u0142\xf3w"),l.a.createElement("button",{onClick:function(){return o(!0)},className:"deleteEventBtn"},"Usu\u0144 wydarzenie"))),l.a.createElement("figure",{className:"eventImage"},l.a.createElement("img",{className:"eventImageSrc",src:e.event.eventImgLink,alt:""})),l.a.createElement("header",{className:"eventCardHeader"},l.a.createElement("time",{dateTime:e.event.eventDate.startDate.fullDate,className:"eventCardDate"},l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,e.event.eventDate.startDate.monthShort),l.a.createElement("span",null,e.event.eventDate.startDate.day))),l.a.createElement("h3",{className:"eventCardTitle"},e.event.eventName),l.a.createElement("div",{className:"eventCardInfo"},"Organizator:",l.a.createElement("span",null," ",e.event.eventPromoter," ")),l.a.createElement("address",{className:"eventCardInfo"},"Miejsce:",l.a.createElement("span",null," ",e.event.eventLocality," ")),l.a.createElement("div",{className:"eventCardInfo"},l.a.createElement(l.a.Fragment,null,function(e,t){var a=new Date,n=function(e){return l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})};return 1==e?n("Rozpoczyna si\u0119 <span>jutro !</span>"):e>1?n("Rozpoczyna si\u0119 za: <span>".concat(e," dni</span>")):0==e?n("Rozpoczyna si\u0119 ju\u017c <span>dzisiaj</span>"):e<0&&new Date(t)>=a?n("<span>Wydarzenie trwa!</span>"):new Date(t)<=a?n("<span>Wydarzenie zako\u0144czy\u0142o si\u0119!</span>"):void 0}(p,e.event.eventDate.endDate.date)))),l.a.createElement("p",{className:"eventCardDescription"},e.event.eventDescription))}),W=a(17),Y=a(19),T=function(e){var t,a=Object(n.useContext)(B),r=Object(d.a)(a,2),o=r[0],i=r[1],c=Object(n.useState)(!1),m=Object(d.a)(c,2),s=m[0],u=m[1],v=Object(n.useState)(Object(Y.a)({},e.event)),p=Object(d.a)(v,2),E=p[0],y=p[1],b=e.event.eventImgLink,D=!1;Object(n.useEffect)((function(){f(!1,e.event.eventCoords),C()}),[]);var w=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o[e.indexInArray]={eventUniqueKey:e.event.eventUniqueKey,eventName:document.getElementById("eventName").value,eventDescription:document.getElementById("eventDescription").value,eventPromoter:document.getElementById("eventPromoter").value,eventLocality:document.getElementById("eventLocality").value,eventCoords:{lat:document.getElementById("latFld").value,lng:document.getElementById("lngFld").value},eventDate:z.startDate.fullDate?JSON.parse(JSON.stringify(z)):e.event.eventDate,eventImgLink:t||b,eventImageObj:JSON.parse(JSON.stringify(document.getElementById("eventImage").value)),eventCategory:document.getElementById("eventCategory").value},i(Object(g.a)(o)),e.setIsChanged(!0)},N=function(e,t){y(Object(Y.a)(Object(Y.a)({},E),{},Object(W.a)({},t,e)))};return l.a.createElement("div",{className:"eventDetailsModal myOwnModal"},s?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"cloud"}),l.a.createElement("div",{className:"loadingBox"},l.a.createElement("div",{className:"loadingBoxText"},"Trwa wysy\u0142anie..."),l.a.createElement(O.a,null))):null,l.a.createElement("button",{className:"closeEventModal",onClick:function(t){t.stopPropagation(),e.detailsOpenHandler()}},"X"),l.a.createElement("div",{className:"addEventModalContent myOwnModalContent"},l.a.createElement("h3",null,"Zapoznaj si\u0119 ze szczeg\xf3\u0142ami wydarzenia. Mo\u017cesz je tak\u017ce edytowa\u0107."),l.a.createElement("form",{onSubmit:function(a){a.preventDefault(),D?h(t,u).then((function(t){w(t),e.detailsOpenHandler()})):(w(),u(!0),setTimeout((function(){u(!1),e.detailsOpenHandler()}),1100))}},l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Nazwa wydarzenia:"),l.a.createElement("input",{id:"eventName",type:"text",placeholder:e.event.eventName,value:E.eventName,onChange:function(e){return N(e.target.value,"eventName")},maxLength:"64",required:!0})),l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Opis wydarzenia:"),l.a.createElement("textarea",{id:"eventDescription",type:"text",placeholder:e.event.eventDescription,value:E.eventDescription,onChange:function(e){return N(e.target.value,"eventDescription")},required:!0})),l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Nazwa organizatora:"),l.a.createElement("input",{id:"eventPromoter",type:"text",placeholder:e.event.eventPromoter,value:E.eventPromoter,onChange:function(e){return N(e.target.value,"eventPromoter")},required:!0})),l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Data:"),l.a.createElement("input",{type:"text",name:"date",id:"date",className:"eventDate",placeholder:e.event.eventDate.startDate.fullDate+" - "+e.event.eventDate.endDate.fullDate,value:e.event.eventDate.startDate.fullDate+" - "+e.event.eventDate.endDate.fullDate,onChange:function(e){return y(e.target)},required:!0})),l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Kategoria:"),l.a.createElement("select",{id:"eventCategory",placeholder:e.event.eventCategory,defaultValue:e.event.eventCategory,required:!0},l.a.createElement("option",{placeholder:e.event.eventCategory,value:E.eventCategory,disabled:!0,hidden:!0},e.event.eventCategory),l.a.createElement("option",{value:"Sport"},"Sport"),l.a.createElement("option",{value:"Muzyka"},"Muzyka"),l.a.createElement("option",{value:"Film"},"Film"),l.a.createElement("option",{value:"Wolontariat"},"Wolontariat"),l.a.createElement("option",{value:"Jedzenie"},"Jedzenie"),l.a.createElement("option",{value:"Impreza"},"Impreza"),l.a.createElement("option",{value:"Ogrodnictwo"},"Ogrodnictwo"),l.a.createElement("option",{value:"Zdrowie"},"Zdrowie"),l.a.createElement("option",{value:"Taniec"},"Taniec"),l.a.createElement("option",{value:"Inne"},"Inne"),l.a.createElement("option",{value:"Literatura"},"Literatura"),l.a.createElement("option",{value:"Komedia"},"Komedia"),l.a.createElement("option",{value:"Wydarzenia religijne"},"Wydarzenia religijne"),l.a.createElement("option",{value:"Welness"},"Welness"),l.a.createElement("option",{value:"Odpowiednie dla dzieci"},"Odpowiednie dla dzieci"),l.a.createElement("option",{value:"Jedzenie"},"Zakupy"))),l.a.createElement("div",{className:"form__row image-container"},l.a.createElement("label",null,"Wybierz zdj\u0119cie wydarzenia:"),l.a.createElement("picture",null,l.a.createElement("input",{id:"eventImage",type:"file",onChange:function(e){var a=document.getElementById("imagePreview");t=e.target.files[0],function(e,t){var a=new FileReader;a.onload=function(e){t.src=e.target.result},a.readAsDataURL(e)}(e.target.files[0],a),D=!0}}),l.a.createElement("img",{id:"imagePreview",src:e.event.eventImgLink}))),l.a.createElement("div",{className:"form__row image-container"}),l.a.createElement("div",{className:"form__row"},l.a.createElement("label",null,"Lokalizacja miejscowo\u015b\u0107:"),l.a.createElement("input",{id:"eventLocality",type:"text",placeholder:"*",value:e.event.eventLocality,disabled:!0})),l.a.createElement("input",{id:"pac-input",className:"controls",type:"text",placeholder:"Wyszukaj w Mapach Google"}),l.a.createElement("div",{className:"form__row map-container"},l.a.createElement("div",{id:"map"})),l.a.createElement("input",{type:"text",id:"latFld",defaultValue:parseFloat(e.event.eventCoords.lat),className:"latFld"}),l.a.createElement("input",{type:"text",id:"lngFld",defaultValue:parseFloat(e.event.eventCoords.lng),className:"lngFld"}),l.a.createElement("input",{id:"latlng",className:"latlng",type:"text",defaultValue:"40.714224,-73.961452"}),l.a.createElement("button",{className:"addEventBtn"},"Zmie\u0144 wydarzenie"))))},J=(a(95),function(e){return l.a.createElement("div",{className:"eventsSearchContainer"},l.a.createElement("label",{htmlFor:"eventsSearchInput",className:"eventsSearchLabel"},"Wyszukaj wydarzenie po nazwie lub kategorii:"),l.a.createElement("div",{className:"eventsSearchBox"},l.a.createElement("input",{id:"eventsSearchInput",className:"eventsSearchInput",onChange:function(t){return e.eventSearch(t.target.value)}}),l.a.createElement("div",{className:"magnifier"})))}),q=function(e){var t=Object(n.useContext)(B),a=Object(d.a)(t,2),r=a[0],o=(a[1],Object(n.useState)(!1)),i=Object(d.a)(o,2),c=i[0],m=i[1],s=Object(n.useState)(!1),u=Object(d.a)(s,2),v=u[0],g=u[1],f=Object(n.useState)(r),E=Object(d.a)(f,2),y=E[0],b=E[1],h=Object(n.useState)(!1),D=Object(d.a)(h,2),w=(D[0],D[1]),z=Object(n.useState)(!1),N=Object(d.a)(z,2),C=N[0],O=N[1],I=[];Object(n.useEffect)((function(){b(r)}),[r]),Object(n.useEffect)((function(){C&&(e.firebase.firebaseDB.collection("events").doc("events").set({events:JSON.parse(JSON.stringify(r))}),O(!1))})),Object(n.useEffect)((function(){L()}),[v]);var j=function(){m(!c)},L=function(){I=v?r.filter((function(e){if(e.eventName.toLowerCase().includes(v.toLowerCase())||e.eventCategory.toLowerCase().includes(v.toLowerCase()))return e})):r,b(I)};return l.a.createElement("main",{className:"mainContent"},c?l.a.createElement(_,{eventModalHandler:j,firebaseDB:e.firebase.firebaseDB,setIsChanged:O}):null,l.a.createElement(J,{eventSearch:function(e){var t=e.trim();/\S/.test(t)?g(t):g(!1),w(!0)}}),l.a.createElement("h2",null,"Wydarzenia"),l.a.createElement("div",{className:"eventsContainer"},l.a.createElement(p,{eventModalHandler:j}),l.a.createElement(F,{resultSearch:v,filtered:y,setIsChanged:O,setFiltered:b})))};var A=function(){var e=m.appInit(),t=m.dbInit();return l.a.createElement("div",{className:"App"},l.a.createElement(s,null),l.a.createElement(S,{firebaseDB:t},l.a.createElement(q,{firebase:{firestoreApp:e,firebaseDB:t}})))};a(96),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.c81ea4ac.chunk.js.map